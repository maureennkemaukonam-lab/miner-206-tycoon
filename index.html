<!DOCTYPE html>
<html>
<head>
  <title>Miner206Tycoon</title>
  <style>
    body { text-align:center; font-family:Arial; background:#232629; color:#fff; }
    button, .upgrade { font-size:24px; margin:10px 0; padding:16px; border-radius:8px; border:none; }
    #mineBtn { font-size:42px; padding:24px 40px; background:#ffc107; color:#232629; cursor:pointer; transition:.1s; }
    #mineBtn:active { transform: scale(0.98) rotate(-5deg); }
    .upgrade { background:#00bfae; color:#fff; padding:14px 26px; display:block; width:60%; margin:auto; cursor:pointer; }
    .upgrade:disabled { background:#444; color:#bbb; cursor: not-allowed; }
    .panel { background: #181a1b; padding: 20px; border-radius: 10px; margin:20px auto; width: 90%; max-width: 520px; }
    #achievements {margin:10px auto 20px auto; max-width:500px;}
    .achv { background:#424242; color:#b2ff59; margin:4px auto; padding:6px 4px; border-radius:5px; font-size:16px; }
    #prestigeBtn { background:#57068c; color:#fff; padding:10px 24px; border-radius:10px; margin-top:10px; }
  </style>
</head>
<body>

<h1>Miner 206 Tycoon</h1>
<div class="panel">
  <h2 id="score">0</h2>
  <h3 id="perClick">Per Click: 1 <br> Per Second: 0</h3>
  <button id="mineBtn" onclick="mine()">‚õè Tap to Mine</button>
  <br>
  <button id="prestigeBtn" onclick="prestige()" style="display:none;">Prestige (Reset for 2x multiplier!)</button>
</div>

<div class="panel" id="upgrades">
  <h3>Upgrades / Tools</h3>
  <button class="upgrade" id="pickaxeBtn" onclick="buyUpgrade('pickaxe')">Buy Pickaxe (+1/click) - 25</button>
  <button class="upgrade" id="drillBtn" onclick="buyUpgrade('drill')">Buy Drill (+5/click) - 125</button>
  <button class="upgrade" id="excavatorBtn" onclick="buyUpgrade('excavator')">Buy Excavator (+25/click) - 625</button>
  <button class="upgrade" id="autoBtn" onclick="buyUpgrade('auto')">Buy AutoMiner (+1/sec) - 100</button>
</div>

<div class="panel" id="achievements">
  <h3>Achievements</h3>
  <div id="achvList"></div>
</div>

<audio id="clickSound" src="https://cdn.pixabay.com/audio/2022/07/26/audio_124bfa99d2.mp3"></audio>

<script>
// --- Persistent Storage ---
let data = JSON.parse(localStorage.getItem("miner206_data") || '{}');
let score = data.score || 0;
let perClick = data.perClick || 1;
let perSec = data.perSec || 0;
let clickUpgrades = data.clickUpgs || {pickaxe:0,drill:0,excavator:0};
let autoMiners = data.autoMiners || 0;
let prestigeLvl = data.prestige || 0;
let achievements = data.achievements || {};
const upgradeCost = {
  pickaxe: 25, drill: 125, excavator: 625, auto: 100
};
const upgradeStep = {
  pickaxe: 1, drill: 5, excavator: 25
};
const upgradeBtns = {
  pickaxe: "pickaxeBtn", drill: "drillBtn", excavator: "excavatorBtn", auto: "autoBtn"
};
let popupAchvs = [
  {score:100, txt:"First 100!"},
  {score:1000, txt:"Tycoon! 1,000 mined."},
  {score:10000, txt:"10,000! You're obsessed."},
  {upg:'auto', amt:1, txt:"Let the AutoMiners loose!"},
  {prestige:1, txt:"The Prestige! x2 mining forever"}
];

// --- Audio ---
let clickSound = document.getElementById("clickSound");

// --- Util ---
function save() {
  localStorage.setItem("miner206_data", JSON.stringify({
    score, perClick, perSec, clickUpgs:clickUpgrades,
    autoMiners, prestige:prestigeLvl, achievements
  }));
}
function prestige() {
  if(score < 100000) return;
  prestigeLvl++;
  score = 0; perClick = 1 * Math.pow(2,prestigeLvl); perSec = 0;
  clickUpgrades = {pickaxe:0,drill:0,excavator:0};
  autoMiners = 0;
  achievements = {};
  document.getElementById("achvList").innerHTML = "";
  showPopupAchv({prestige:prestigeLvl, txt:popupAchvs[4].txt});
  save();
  update();
}
function showPopupAchv(item) {
  if(!achievements[item.txt]) {
    achievements[item.txt] = true;
    let dv = document.createElement("div");
    dv.classList="achv"; dv.innerText= "üèÜ "+item.txt;
    document.getElementById("achvList").appendChild(dv);
  }
}
function updateAchvs() {
  popupAchvs.forEach(a=>{
    if(a.score && score>=a.score) showPopupAchv(a);
    if(a.upg && autoMiners>=a.amt) showPopupAchv(a);
    if(a.prestige && prestigeLvl>=a.prestige) showPopupAchv(a);
  });
}
function updateUI() {
  document.getElementById("score").innerText = score;
  document.getElementById("perClick").innerHTML =
    `Per Click: ${perClick} <br> Per Second: ${perSec}`;
  // Upgrades
  document.getElementById("pickaxeBtn").innerText =
    `Buy Pickaxe (+1/click) - ${upgradeCost.pickaxe * Math.pow(2,clickUpgrades.pickaxe)}`;
  document.getElementById("drillBtn").innerText =
    `Buy Drill (+5/click) - ${upgradeCost.drill * Math.pow(2,clickUpgrades.drill)}`;
  document.getElementById("excavatorBtn").innerText =
    `Buy Excavator (+25/click) - ${upgradeCost.excavator * Math.pow(2,clickUpgrades.excavator)}`;
  document.getElementById("autoBtn").innerText =
    `Buy AutoMiner (+1/sec) - ${upgradeCost.auto*Math.pow(2,autoMiners)}`;
  // Achievements
  document.getElementById("achvList").innerHTML = "";
  for(let k in achievements) {
    let dv = document.createElement("div");
    dv.classList="achv"; dv.innerText= "üèÜ " + k;
    document.getElementById("achvList").appendChild(dv);
  }
  // Prestige
  if(score >= 100000) {
    document.getElementById("prestigeBtn").style.display="inline-block";
    document.getElementById("prestigeBtn").innerText =
      `Prestige (Reset for x${Math.pow(2,prestigeLvl+1)} mining power!)`;
  } else document.getElementById("prestigeBtn").style.display="none";
}
function update() {
  perClick = (1 + clickUpgrades.pickaxe*1 + clickUpgrades.drill*5 + clickUpgrades.excavator*25) * Math.pow(2,prestigeLvl);
  perSec = autoMiners * Math.pow(2,prestigeLvl);
  updateUI();
  updateAchvs();
  save();
}

// --- Game Mechanics ---
function mine(){
  score += perClick;
  clickSound.currentTime=0;
  clickSound.play();
  // Simple shake animation
  let btn = document.getElementById("mineBtn");
  btn.style.transform="scale(1.05) rotate(-8deg)";
  setTimeout(()=>{btn.style.transform="";},100);
  update();
}
function buyUpgrade(type) {
  let cost;
  if(type==='auto') cost = upgradeCost.auto*Math.pow(2,autoMiners);
  else cost = upgradeCost[type]*Math.pow(2,clickUpgrades[type]);
  if(score >= cost) {
    score -= cost;
    if(type==='auto') autoMiners++;
    else clickUpgrades[type]++;
    update();
  }
}

// --- AutoMiner Interval ---
setInterval(()=>{
  if(perSec>0) {
    score += perSec;
    update();
  }
},1000);

// --- Load on start ---
update();

// --- Local Save ---
setInterval(save,5000);

</script>
</body>
</html>